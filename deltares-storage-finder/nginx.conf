server {
    listen 80;
    server_name localhost;
    
    # Serve the app under /storagefinder/ path
    location /storagefinder/ {
        alias /usr/share/nginx/html/;
        try_files $uri $uri/ /index.html;
        
        # Handle client-side routing
        location ~ ^/storagefinder/(.*)$ {
            try_files $1 $1/ /index.html;
        }
    }
    
    # Health check endpoint at root
    location = / {
        return 200 'OK';
        add_header Content-Type text/plain;
    }
    
    # # Optional: redirect root to /storagefinder/
    # location = / {
    #     return 301 /storagefinder/;
    # }
}