import{u as F,t as D,z as _,c as U,F as B,a as q,_ as J,b as M}from"./BKrGdL83.js";import{_ as C}from"./CFwNVicP.js";import{m as g,u as h,aO as x,ak as P,o as p,c as w,b as e,w as a,y as t,p as S,a3 as R,G as $,n as E,B as z,s as W,v as X,D as H,a as k,V as Q,W as Y,d as K,z as Z}from"./31PJL3iA.js";import{T as ee}from"./C4Cv-8kp.js";import{C as L}from"./AbVsqMK9.js";import"./Ci65v0pw.js";const te=g({__name:"DeleteKeywordGroup",props:{keywordgroup_id:{}},setup(o){let{$api:r}=h(),l=F().handleSubmit(async()=>{await r("/keywordgroup/{keywordgroup_id}",{method:"delete",path:{keywordgroup_id:o.keywordgroup_id}}),x({title:"Keywordgroup deleted"}),await P("/keywords/groups")});return(u,s)=>{const n=S;return p(),w("form",{onSubmit:s[0]||(s[0]=(...m)=>t(l)&&t(l)(...m))},[e(n,{variant:"outline",size:"icon",type:"submit",class:"w-8 h-8"},{default:a(()=>[e(t(ee),{class:"w-4 h-4"})]),_:1})],32)}}}),oe=g({__name:"DeleteKeyword",props:{keyword:{},onDelete:{type:Function}},setup(o){let{$api:r}=h(),l=F().handleSubmit(async()=>{var u;await r("/keyword/{keyword_id}",{method:"delete",path:{keyword_id:o.keyword.id}}),x({title:"Keyword deleted"}),(u=o.onDelete)==null||u.call(o)});return(u,s)=>{const n=S;return p(),w("form",{onSubmit:s[0]||(s[0]=(...m)=>t(l)&&t(l)(...m)),class:"opacity-0 group-hover:opacity-100"},[e(n,{variant:"destructive",size:"icon",type:"submit",class:"w-8 h-8"},{default:a(()=>[e(t(R),{class:"w-4 h-4"})]),_:1})],32)}}}),ne=g({__name:"UpdateKeyword",props:{keyword:{},onUpdate:{type:Function}},setup(o){let{$api:r}=h(),c=D(_.object({nl_keyword:_.string().min(2)})),l=F({validationSchema:c,initialValues:{nl_keyword:o.keyword.nl_keyword??void 0}}),u=l.handleSubmit(async s=>{var n;await r("/keyword/{keyword_id}",{method:"put",body:s,path:{keyword_id:o.keyword.id}}),x({title:"Keyword updated"}),(n=o.onUpdate)==null||n.call(o)});return(s,n)=>{const m=C,b=U,v=B,f=S;return p(),w("form",{onSubmit:n[0]||(n[0]=(...i)=>t(u)&&t(u)(...i)),class:"flex items-center gap-1.5 w-full"},[e(v,{name:"nl_keyword"},{default:a(({componentField:i})=>[e(b,{class:"w-full"},{default:a(()=>[e(m,$(i,{class:"border-0 -ml-3 h-8 !ring-0 rounded-none outline-none"}),null,16)]),_:2},1024)]),_:1}),t(l).isFieldDirty("nl_keyword")?(p(),E(f,{key:0,type:"submit",variant:"outline",size:"icon",class:"flex-shrink-0 w-8 h-8"},{default:a(()=>[e(t(L),{class:"w-4 h-4 text-emerald-500"})]),_:1})):z("",!0)],32)}}}),re={class:"flex items-center gap-1.5 group"},ae=g({__name:"Keyword",props:{keyword:{},onDelete:{type:Function},onUpdate:{type:Function}},setup(o){return(r,c)=>(p(),w("div",re,[e(ne,{keyword:r.keyword,onUpdate:r.onUpdate},null,8,["keyword","onUpdate"]),e(oe,{keyword:r.keyword,onDelete:r.onDelete},null,8,["keyword","onDelete"])]))}}),le=g({__name:"UpdateKeywordGroup",props:{group:{},onUpdate:{type:Function}},setup(o){let{$api:r}=h(),c=D(_.object({group_name_nl:_.string().min(2)})),l=F({validationSchema:c,initialValues:{group_name_nl:o.group.group_name_nl??void 0}}),u=l.handleSubmit(async s=>{var n;await r("/keywordgroup/{keywordgroup_id}",{method:"put",body:s,path:{keywordgroup_id:o.group.id}}),x({title:"Keyword group updated"}),(n=o.onUpdate)==null||n.call(o)});return(s,n)=>{const m=C,b=U,v=B,f=S;return p(),w("form",{onSubmit:n[0]||(n[0]=(...i)=>t(u)&&t(u)(...i)),class:"flex items-center gap-1.5 w-full"},[e(v,{name:"group_name_nl"},{default:a(({componentField:i})=>[e(b,{class:"w-full"},{default:a(()=>[e(m,$(i,{class:"border-0 -ml-3 h-8 !ring-0 rounded-none outline-none text-2xl font-bold"}),null,16)]),_:2},1024)]),_:1}),t(l).isFieldDirty("group_name_nl")?(p(),E(f,{key:0,type:"submit",variant:"outline",size:"icon",class:"flex-shrink-0 w-8 h-8"},{default:a(()=>[e(t(L),{class:"w-4 h-4 text-emerald-500"})]),_:1})):z("",!0)],32)}}}),de={key:0},se={class:"mt-3 flex items-center justify-between mb-4 gap-1.5"},ie={class:"flex flex-col"},we=g({__name:"[group_id]",async setup(o){let r,c,l=W(),{$api:u}=h(),{data:s,refresh:n}=([r,c]=X(()=>Z("/keywords",{query:{keyword_group_id:l.params.group_id}},"$zJE1s1Ojuk")),r=await r,c(),r),m=H(()=>{var i;return(i=s.value)==null?void 0:i[0]}),b=D(_.object({nl_keyword:_.string().min(2),en_keyword:_.string().min(2),external_id:_.string().min(2).optional()})),f=F({validationSchema:b}).handleSubmit(async i=>{await u("/keyword",{method:"post",body:{...i,group_id:l.params.group_id}}),x({title:"Keyword created"}),await n()});return(i,d)=>{var A;const N=q,V=C,I=J,j=M,T=U,G=B,O=S;return t(m)?(p(),w("div",de,[d[4]||(d[4]=k("div",{class:"uppercase text-muted-foreground text-xs font-semibold tracking-wider"}," Keyword Group ",-1)),k("div",se,[e(le,{group:t(m)},null,8,["group"]),e(te,{keywordgroup_id:t(m).id},null,8,["keywordgroup_id"])]),k("ul",ie,[(p(!0),w(Q,null,Y((A=t(m))==null?void 0:A.keywords,y=>(p(),w("li",{key:y.id,class:"border-b last:border-0 py-1.5"},[e(ae,{keyword:y,onDelete:t(n),onUpdate:t(n)},null,8,["keyword","onDelete","onUpdate"])]))),128))]),d[5]||(d[5]=k("hr",{class:"my-8"},null,-1)),d[6]||(d[6]=k("h2",{class:"font-medium mb-4"},"Create keyword",-1)),k("form",{onSubmit:d[0]||(d[0]=(...y)=>t(f)&&t(f)(...y))},[e(G,{name:"nl_keyword"},{default:a(({componentField:y})=>[e(T,null,{default:a(()=>[e(N,null,{default:a(()=>d[1]||(d[1]=[K("Keyword NL")])),_:1}),e(I,null,{default:a(()=>[e(V,$({type:"text"},y),null,16)]),_:2},1024),e(j)]),_:2},1024)]),_:1}),e(G,{name:"en_keyword"},{default:a(({componentField:y})=>[e(T,null,{default:a(()=>[e(N,null,{default:a(()=>d[2]||(d[2]=[K("Keyword EN")])),_:1}),e(I,null,{default:a(()=>[e(V,$({type:"text"},y),null,16)]),_:2},1024),e(j)]),_:2},1024)]),_:1}),e(O,{type:"submit",class:"mt-5"},{default:a(()=>d[3]||(d[3]=[K("Create")])),_:1})],32)])):z("",!0)}}});export{we as default};
