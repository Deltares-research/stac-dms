import{_ as W,a as q,b as G}from"./C52_cgDU.js";import{_ as O}from"./BJTLxclH.js";import{_ as P}from"./CbCMFK9A.js";import{_ as R}from"./Ci65v0pw.js";import{_ as X}from"./CFwNVicP.js";import{_ as Y,a as Z}from"./D496V5Yy.js";import{m as h,v as ee,r as v,o as a,n as s,w as l,b as n,d as r,t as x,a as u,B as d,y as k,C as oe,c as le,z as te,_ as ne,p as ae}from"./31PJL3iA.js";import{c as D}from"./BbUVoc-8.js";const ie={class:"grid items-center w-full gap-4"},se={class:"flex flex-col space-y-1.5"},de={class:"flex flex-col space-y-1.5"},re={class:"flex flex-col space-y-1.5"},ce={class:"flex flex-col space-y-1.5"},ue={key:0,class:"text-red-500"},Ce=h({__name:"CollectionCardForm",props:{cardTitle:String,title:String,description:String,collectionType:String,keywordFacility:String,buttonTitle:String,errors:String,readonly:Boolean},emits:["update"],async setup(o,{emit:I}){var F,$;let p,T;const K=I;let{data:w}=([p,T]=ee(()=>te("/facilities","$WQJB0smkc5")),p=await p,T(),p);console.log({keywords:w});let g=((F=w.value)==null?void 0:F.map(i=>({value:i.id,label:i.name})))??[];g.unshift({value:"No keywords",label:"No keywords"});const c=o,m=v(c.title??""),y=v(c.description??""),C=v(c.collectionType),A=($=w.value)==null?void 0:$.find(i=>i.id==c.keywordFacility),L=D.find(i=>i.value==c.collectionType),V=v(c.keywordFacility),j=D;function b(){const i={title:m.value,description:y.value,collectionType:C.value,keywordsFacility:V.value};K("update",i)}return(i,e)=>{const z=W,E=q,f=R,_=X,N=Y,S=Z,H=O,J=ne,B=ae,M=P,Q=G;return a(),s(Q,{class:"w-9/10 p-10"},{default:l(()=>[n(E,null,{default:l(()=>[n(z,null,{default:l(()=>[r(x(o.cardTitle),1)]),_:1})]),_:1}),n(H,null,{default:l(()=>{var U;return[u("form",{onSubmit:oe(b,["prevent"])},[u("div",ie,[u("div",se,[n(f,{for:"name"},{default:l(()=>e[6]||(e[6]=[r("Name")])),_:1}),o.readonly?(a(),s(_,{key:0,id:"name",modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t),placeholder:"Name of your collection",readonly:""},null,8,["modelValue"])):d("",!0),o.readonly?d("",!0):(a(),s(_,{key:1,id:"name",modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=t=>m.value=t),placeholder:"Name of your collection"},null,8,["modelValue"]))]),u("div",de,[n(f,{for:"description"},{default:l(()=>e[7]||(e[7]=[r("Description")])),_:1}),o.readonly?(a(),s(N,{key:0,id:"description",modelValue:y.value,"onUpdate:modelValue":e[2]||(e[2]=t=>y.value=t),readonly:""},null,8,["modelValue"])):d("",!0),o.readonly?d("",!0):(a(),s(N,{key:1,id:"description",modelValue:y.value,"onUpdate:modelValue":e[3]||(e[3]=t=>y.value=t)},null,8,["modelValue"])),u("div",re,[n(f,{for:"collectionType"},{default:l(()=>e[8]||(e[8]=[r("Collection type")])),_:1}),o.readonly?d("",!0):(a(),s(S,{key:0,id:"collectionType",options:k(j),modelValue:C.value,"onUpdate:modelValue":e[4]||(e[4]=t=>C.value=t)},null,8,["options","modelValue"])),o.readonly?(a(),s(_,{key:1,readonly:"",placeholder:k(L).label},null,8,["placeholder"])):d("",!0)]),u("div",ce,[n(f,{for:"keywordsFacility"},{default:l(()=>e[9]||(e[9]=[r("Keywords")])),_:1}),o.readonly?d("",!0):(a(),s(S,{key:0,id:"keywordsFacility",options:k(g),modelValue:V.value,"onUpdate:modelValue":e[5]||(e[5]=t=>V.value=t)},null,8,["options","modelValue"])),o.readonly?(a(),s(_,{key:1,readonly:"",placeholder:(U=k(A))==null?void 0:U.name},null,8,["placeholder"])):d("",!0)])])])],32),o.errors?(a(),le("p",ue,x(o.errors),1)):d("",!0)]}),_:1}),n(M,{class:"flex justify-between px-6 pb-6"},{default:l(()=>[n(B,{variant:"outline"},{default:l(()=>[n(J,{to:"/collections"},{default:l(()=>e[10]||(e[10]=[r("Cancel")])),_:1})]),_:1}),n(B,{onClick:b},{default:l(()=>[r(x(o.buttonTitle),1)]),_:1})]),_:1})]),_:1})}}});export{Ce as _};
