import{L,_ as N}from"./VfbNboa7.js";import{t as B,z as p,u as I,a as P,_ as A,b as V,c as h,F as T}from"./BKrGdL83.js";import{_ as j}from"./CFwNVicP.js";import{m as z,u as D,aO as E,v as G,aP as M,o as r,c as u,a as o,b as e,w as s,V as O,W as R,y as m,d as l,G as U,z as W,aN as q,n as H,t as J,p as K}from"./31PJL3iA.js";import"./DlAUqK2U.js";import"./Ci65v0pw.js";const Q={class:"mx-auto grid grid-cols-2 gap-12"},X={class:"mt-3"},it=z({__name:"facilities",async setup(Y){let n,c,{$api:f}=D(),F=B(p.object({name:p.string().min(2)})),_=I({validationSchema:F}).handleSubmit(async i=>{await f("/facility",{method:"post",body:i,headers:{"Content-Type":"application/json"}}),E({title:"Facility created"}),d()}),{data:y,refresh:d}=([n,c]=G(()=>W("/facilities","$oI840fIxPP")),n=await n,c(),n);return M(i=>{i.params.facility_id||d()}),(i,t)=>{const x=N,g=L,b=P,$=j,w=A,v=V,C=h,S=T,k=q;return r(),u("div",Q,[o("div",null,[t[4]||(t[4]=o("div",{class:"uppercase text-muted-foreground text-xs font-semibold tracking-wider"}," Facilities ",-1)),o("div",X,[e(g,null,{default:s(()=>[(r(!0),u(O,null,R(m(y),a=>(r(),H(x,{key:a.id,to:`/keywords/facilities/${a.id}`},{default:s(()=>[l(J(a.name),1)]),_:2},1032,["to"]))),128))]),_:1}),t[3]||(t[3]=o("hr",{class:"my-8"},null,-1)),o("form",{onSubmit:t[0]||(t[0]=(...a)=>m(_)&&m(_)(...a)),class:"flex items-end gap-1.5 w-full"},[e(S,{name:"name"},{default:s(({componentField:a})=>[e(C,{class:"w-full"},{default:s(()=>[e(b,null,{default:s(()=>t[1]||(t[1]=[l("Add facility")])),_:1}),e(w,null,{default:s(()=>[e($,U({type:"text"},a),null,16)]),_:2},1024),e(v)]),_:2},1024)]),_:1}),e(m(K),{type:"submit",class:"mt-3"},{default:s(()=>t[2]||(t[2]=[l("Create")])),_:1})],32)])]),o("div",null,[e(k)])])}}});export{it as default};
