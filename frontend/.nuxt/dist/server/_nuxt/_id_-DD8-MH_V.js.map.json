{"file":"_id_-DD8-MH_V.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBM,UAAA,EAAE,SAAS;AAEX,UAAA,SAAS,IAAI,EAAE;AACf,UAAA,QAAQ,IAAI,EAAE;AACd,UAAA,cAAc,IAAI,EAAE;AACpB,UAAA,yBAAyB,IAAI,EAAE;AAC/B,UAAA,2BAA2B,IAAI,EAAE;AAEvC,UAAM,QAAQ;AACR,UAAA,QAAO,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,KAAK,gCAAgC;AAAA,MACtD,MAAM;AAAA,QACJ,eAAe,MAAM,OAAO;AAAA,MAC9B;AAAA,IAAA,CACD,CAAA;AACD,UAAM,QAAQ,KAAK;AACnB,gBAAY,QAAQ,KAAK;AACF,2BAAA,QAAQ,KAAK,SAAS,CAAC;AACxC,UAAA,eAAe,KAAK,MAAM,KAAK,CAAC,SAAS,KAAK,OAAO,UAAU;AACrE,6BAAyB,QACvB,iBAAiB,SAAY,aAAa,KAAK;AAEjD,mBAAe,mBAAmB;AAC5B,UAAA;AACF,eAAO,QAAQ;AACTC,cAAAA,QAAO,MAAM,KAAK,qBAAqB;AAAA,UAC3C,QAAQ;AAAA,UACR,MAAM;AAAA,YACJ,IAAI,MAAM,OAAO;AAAA,UACnB;AAAA,QAAA,CACD;AAAA,eACM,GAAG;AACV,eAAO,QAAQ;AACf;AAAA,MACF;AAEA,YAAM,SAAS;AACf,aAAO,KAAK,cAAc;AAAA,IAC5B;;;;;;;;;;;;;;;;;;;;;;","names":["_withAsyncContext","data"],"sources":["../../../../pages/collections/delete/[id].vue"],"sourcesContent":["<template>\n  <CollectionCardForm\n    buttonTitle=\"Delete\"\n    card-title=\"Are you sure you want to delete this collection?\"\n    :error=\"errors\"\n    :title=\"title\"\n    :description=\"description\"\n    :collectionType=\"selectedCollectionType\"\n    :keywordFacility=\"selectedKeywordsFacility\"\n    readonly=\"true\"\n    @update=\"updateCollection\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport CollectionCardForm from \"@/components/collections/CollectionCardForm.vue\"\nimport { ref } from \"vue\"\n\nconst { $api } = useNuxtApp()\n\nconst errors = ref(\"\")\nconst title = ref(\"\")\nconst description = ref(\"\")\nconst selectedCollectionType = ref(\"\")\nconst selectedKeywordsFacility = ref(\"\")\n\nconst route = useRoute()\nconst data = await $api(\"/collections/{collection_id}\", {\n  path: {\n    collection_id: route.params.id,\n  },\n})\ntitle.value = data.title\ndescription.value = data.description\nselectedCollectionType.value = data.keywords[0]\nconst keywordsLink = data.links.find((item) => item.rel == \"keywords\")\nselectedKeywordsFacility.value =\n  keywordsLink !== undefined ? keywordsLink.id : \"No Keywords\"\n\nasync function updateCollection() {\n  try {\n    errors.value = \"\"\n    const data = await $api(\"/collections/{id}\", {\n      method: \"DELETE\",\n      path: {\n        id: route.params.id,\n      },\n    })\n  } catch (e) {\n    errors.value = \"It was not possible to delete the collection\"\n    return\n  }\n\n  const router = useRouter()\n  router.push(\"/collections\")\n}\n</script>\n\n<style scoped></style>\n"],"version":3}