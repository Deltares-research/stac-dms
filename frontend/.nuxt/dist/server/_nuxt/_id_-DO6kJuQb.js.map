{"version":3,"file":"_id_-DO6kJuQb.js","sources":["../../../../pages/items/delete/[id].vue"],"sourcesContent":["<template>\n  <Card class=\"w-9/10 p-10\">\n    <CardHeader>\n      <CardTitle>Are you sure you want to delete this registration?</CardTitle>\n    </CardHeader>\n    <CardContent>\n      <form @submit.prevent=\"deleteItem\">\n        <div class=\"grid items-center w-full gap-4\">\n          <div class=\"flex flex-col space-y-1.5\">\n            <Label>Title</Label>\n            <Label>{{ feature.properties.title }}</Label>\n          </div>\n          <div class=\"flex flex-col space-y-1.5\">\n            <Label>Description</Label>\n            <Label>{{ feature.properties.description }}</Label>\n          </div>\n          <div class=\"flex flex-col space-y-1.5\">\n            <Label>Date</Label>\n            <Label>{{ feature.properties.datetime }}</Label>\n          </div>\n        </div>\n      </form>\n      <p v-if=\"errors\" class=\"text-red-500\">{{ errors }}</p>\n    </CardContent>\n    <CardFooter class=\"flex justify-between px-6 pb-6\">\n      <Button variant=\"outline\">\n        <NuxtLink to=\"/items\">Cancel</NuxtLink>\n      </Button>\n      <Button @click=\"deleteItem\">Delete</Button>\n    </CardFooter>\n  </Card>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\"\n\nconst route = useRoute()\n\nconst { $api } = useNuxtApp()\nlet { data: item } = await useApi(\"/search?ids=\" + route.params.id)\nconst feature = item.value.features[0]\n\nconst errors = ref(\"\")\nconst title = ref(\"\")\nconst description = ref(\"\")\n\nasync function deleteItem() {\n  try {\n    errors.value = \"\"\n    const data = await $api(\"/collections/{collection}/items/{id}\", {\n      method: \"DELETE\",\n      path: {\n        id: route.params.id,\n        collection: item.value.features[0].collection,\n      },\n    })\n  } catch (e) {\n    errors.value = \"It was not possible to delete the collection\"\n    return\n  }\n  const router = useRouter()\n  router.push(\"/items\")\n}\n</script>\n\n<style scoped></style>\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,UAAM,QAAQ;AAER,UAAA,EAAE,SAAS;AACb,QAAA,EAAE,MAAM,KAAK,KAAI,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,OAAO,iBAAiB,MAAM,OAAO,IAAE,aAAA,CAAA;AAClE,UAAM,UAAU,KAAK,MAAM,SAAS,CAAC;AAE/B,UAAA,SAAS,IAAI,EAAE;AACP,QAAI,EAAE;AACA,QAAI,EAAE;AAE1B,mBAAe,aAAa;AACtB,UAAA;AACF,eAAO,QAAQ;AACT,cAAA,OAAO,MAAM,KAAK,wCAAwC;AAAA,UAC9D,QAAQ;AAAA,UACR,MAAM;AAAA,YACJ,IAAI,MAAM,OAAO;AAAA,YACjB,YAAY,KAAK,MAAM,SAAS,CAAC,EAAE;AAAA,UACrC;AAAA,QAAA,CACD;AAAA,eACM,GAAG;AACV,eAAO,QAAQ;AACf;AAAA,MACF;AACA,YAAM,SAAS;AACf,aAAO,KAAK,QAAQ;AAAA,IACtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}