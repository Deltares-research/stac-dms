import{_ as k}from"./VmqREnFO.js";import{m as w,u as v,r as o,s as f,v as h,o as b,c as x,b as F,q as T}from"./31PJL3iA.js";import"./C52_cgDU.js";import"./BJTLxclH.js";import"./CbCMFK9A.js";import"./Ci65v0pw.js";import"./CFwNVicP.js";import"./D496V5Yy.js";import"./CQNklV-G.js";import"./AbVsqMK9.js";import"./BbUVoc-8.js";const N={class:"justify-end"},V=w({__name:"[id]",async setup(j){let i,a;const{$api:c}=v(),s=o(""),l=o(""),n=o(""),p=o(""),d=o(""),u=f(),e=([i,a]=h(()=>c("/collections/{collection_id}",{path:{collection_id:u.params.id}})),i=await i,a(),i);l.value=e.title,n.value=e.description,p.value=e.keywords[0];const y=e.links.find(t=>t.rel=="keywords");d.value=y!==void 0?y.id:"No keywords";async function _(t){const r={type:"Collection",stac_version:"1.0.0",id:e.id,title:t.title,description:t.description,keywords:[t.collectionType],license:"proprietary",extent:{spatial:{bbox:[[-180,-56,180,83]]},temporal:{interval:[[]]}},links:[]};t.keywordsFacility!=="No keywords"&&r.links.push({rel:"keywords",href:"/facilities/"+t.keywordsFacility,type:"application/json",id:t.keywordsFacility});try{s.value="";const m=await c("/collections/{id}",{method:"PUT",path:{id:u.params.id},body:r})}catch{s.value="It was not possible to update the collection";return}T().push("/collections")}return(t,r)=>(b(),x("div",N,[F(k,{"card-title":"Edit collection","button-title":"update",errors:s.value,onUpdate:_,title:l.value,description:n.value,collectionType:p.value,keywordFacility:d.value},null,8,["errors","title","description","collectionType","keywordFacility"])]))}});export{V as default};
