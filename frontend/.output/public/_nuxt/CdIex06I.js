import{_ as D,a as g,b as h}from"./C52_cgDU.js";import{_ as A}from"./BJTLxclH.js";import{_ as E}from"./CbCMFK9A.js";import{_ as T}from"./Ci65v0pw.js";import{m as V,s as L,u as I,v as M,r as u,o as C,n as R,w as e,b as s,d as o,a as n,t as r,y as c,C as S,c as j,B as q,z,q as F,_ as H,p as P}from"./31PJL3iA.js";const X={class:"grid items-center w-full gap-4"},G={class:"flex flex-col space-y-1.5"},J={class:"flex flex-col space-y-1.5"},K={class:"flex flex-col space-y-1.5"},O={key:0,class:"text-red-500"},et=V({__name:"[id]",async setup(Q){let l,d;const p=L(),{$api:v}=I();let{data:f}=([l,d]=M(()=>z("/search?ids="+p.params.id,"$C5bBM0XP0x")),l=await l,d(),l);const _=f.value.features[0],i=u("");u(""),u("");async function m(){try{i.value="";const t=await v("/collections/{collection}/items/{id}",{method:"DELETE",path:{id:p.params.id,collection:f.value.features[0].collection}})}catch{i.value="It was not possible to delete the collection";return}F().push("/items")}return(y,t)=>{const w=D,$=g,a=T,b=A,B=H,x=P,k=E,N=h;return C(),R(N,{class:"w-9/10 p-10"},{default:e(()=>[s($,null,{default:e(()=>[s(w,null,{default:e(()=>t[0]||(t[0]=[o("Are you sure you want to delete this registration?")])),_:1})]),_:1}),s(b,null,{default:e(()=>[n("form",{onSubmit:S(m,["prevent"])},[n("div",X,[n("div",G,[s(a,null,{default:e(()=>t[1]||(t[1]=[o("Title")])),_:1}),s(a,null,{default:e(()=>[o(r(c(_).properties.title),1)]),_:1})]),n("div",J,[s(a,null,{default:e(()=>t[2]||(t[2]=[o("Description")])),_:1}),s(a,null,{default:e(()=>[o(r(c(_).properties.description),1)]),_:1})]),n("div",K,[s(a,null,{default:e(()=>t[3]||(t[3]=[o("Date")])),_:1}),s(a,null,{default:e(()=>[o(r(c(_).properties.datetime),1)]),_:1})])])],32),i.value?(C(),j("p",O,r(i.value),1)):q("",!0)]),_:1}),s(k,{class:"flex justify-between px-6 pb-6"},{default:e(()=>[s(x,{variant:"outline"},{default:e(()=>[s(B,{to:"/items"},{default:e(()=>t[4]||(t[4]=[o("Cancel")])),_:1})]),_:1}),s(x,{onClick:m},{default:e(()=>t[5]||(t[5]=[o("Delete")])),_:1})]),_:1})]),_:1})}}});export{et as default};
